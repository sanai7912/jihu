<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>William's Watermelon Garden 1,2</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: white;
            transition: background-color 0.5s;
        }
        .question {
            font-size: 2em;
            margin-top: 50px;
        }
        .input-box {
            margin-top: 30px;
        }
        .input-box input {
            font-size: 1.2em;
            padding: 10px;
        }
        .feedback {
            font-size: 1.5em;
            margin-top: 20px;
        }
        .fireworks {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3em;
        }
        #score {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div id="score">Score: 0</div>
    <div class="question" id="question">Question: n. an area of ground where plants are grown / Ï†ïÏõê, Îú∞</div>
    <div class="input-box">
        <input type="text" id="answer" placeholder="Ï†ïÎãµ ÏûÖÎ†•">
        <button onclick="checkAnswer()">ÌôïÏù∏</button>
    </div>
    <div class="feedback" id="feedback"></div>
    <div class="fireworks" id="fireworks">üéÜüéÜüéÜ</div>

    <script>
        let words = [
            'n. an area of ground where plants are grown / Ï†ïÏõê, Îú∞ =garden',
            'v. to say or do something again / Î∞òÎ≥µÌïòÎã§, ÎßêÌïòÎã§ =repeat-repeated',
            'v. to ask someone to go somewhere / Ï¥àÎåÄÌïòÎã§ =invite-invited',
            'v. to put a seed in the ground to grow / Ïî®Î•º Ïã¨Îã§, ÎøåÎ¶¨Îã§ =plant-planted',
            'v. to want something that someone else has / Î∂ÄÎü¨ÏõåÌïòÎã§ =envy-envied',
            'adj. not fair, equal, or just / Î∂àÍ≥µÌèâÌïú =unfair',
            'a. a home that is a building without a yard / ÏïÑÌååÌä∏ =apartment',
            'v. to complain quietly about something / Ìà¨ÎçúÍ±∞Î¶¨Îã§ =grumble-grumbled',
            'phr. to stop trying to do something before you have finished / Ìè¨Í∏∞ÌïòÎã§ =give up-gave up',
            'phr. to protect and provide the things that a person or thing needs / ~ÏùÑ ÎèåÎ≥¥Îã§ =take care of-took care of',
            'n. pleasant thoughts about things that you would like to happen / Í≥µÏÉÅ, Î∞±ÏùºÎ™Ω =daydream',
            'adv. happening in a way that is not planned / ÎúªÌïòÏßÄ ÏïäÍ≤å, Ïö∞Ïó∞Ìûà =accidentally',
            'v. to raise a plant, vegetable or fruit / ÏûêÎùºÎã§ =grow-grew',
            'adj. something that exists or is true / ÏßÑÏßúÏùò, Ïã§Ï†úÏùò =real',
            'n. stomach or belly / Î∞∞ =tummy',
            'n. something added to soil to help plants grow / ÎπÑÎ£å =fertilizer',
            'n. a feeling of being free from pain or worry / ÏïàÎèÑ, ÏïàÏã¨ =relief',
            'v. to make a short, high noise / ÎÅΩ ÌïòÎäî ÏÜåÎ¶¨Î•º ÎÇ¥Îã§ =squeak-squeaked',
            'v. to act as if something is true when it is not true / ~Ïù∏ Ï≤ôÌïòÎã§ =pretend-pretended',
            'n. a thin piece of paper that covers something to protect it / Ìè¨Ïû•ÏßÄ =wrapper',
            'v. to take something away from a place / ÏπòÏö∞Îã§, ÏóÜÏï†Îã§ =remove-removed',
            'n. a long, thin animal that lives in the ground / Î≤åÎ†à =worm',
            'v. to make something less hard of firm / Î∂ÄÎìúÎüΩÍ≤å ÌïòÎã§ =soften-softened',
            'n. the top layer of earth where plants grow / Ìùô, ÌÜ†Ïñë =soil'
        ];
        let score = 0;
        let mistakes = 0;
        let usedQuestions = [];

        function checkAnswer() {
            const answer = document.getElementById('answer').value.trim();
            const correctAnswer = document.getElementById('question').dataset.answer;
            if (answer === correctAnswer) {
                score += 1;
                document.getElementById('score').innerText = `Score: ${score}`;
                document.getElementById('feedback').innerText = "Correct!";
                document.getElementById('fireworks').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('fireworks').style.display = 'none';
                    loadNextQuestion();
                }, 1000);
            } else {
                mistakes += 1;
                document.body.style.backgroundColor = 'red';
                document.getElementById('feedback').innerText = `Sorry... The correct answer was ${correctAnswer}`;
                setTimeout(() => {
                    document.body.style.backgroundColor = 'white';
                    document.getElementById('feedback').innerText = "";
                    loadNextQuestion();
                }, 1000);
                if (mistakes >= 4) {
                    alert("Game Over!");
                    resetGame();
                }
            }
            document.getElementById('answer').value = "";
        }

        function loadNextQuestion() {
            if (usedQuestions.length === words.length) {
                alert("You've completed all questions! Great job!");
                resetGame();
                return;
            }

            let index;
            do {
                index = Math.floor(Math.random() * words.length);
            } while (usedQuestions.includes(index));

            usedQuestions.push(index);
            const question = words[index];
            const [definition, answer] = question.split('=');
            document.getElementById('question').innerText = `Question: ${definition.trim()}`;
            document.getElementById('question').dataset.answer = answer.trim();
        }

        function resetGame() {
            score = 0;
            mistakes = 0;
            usedQuestions = [];
            document.getElementById('score').innerText = `Score: ${score}`;
            loadNextQuestion();
        }

        loadNextQuestion();
    </script>
</body>
</html>
